# THIS FILE IS AUTO GENERATED. PLEASE DO NOT EDIT!
###########################################################
# The ignore() lines are to squash unused variable warnings

# Inputs
input_main_mount = {{ config.stream.inputs.main.mount | quote }}
input_main_port = {{ config.stream.inputs.main.port }}
input_show_mount = {{ config.stream.inputs.show.mount | quote }}
input_show_port = {{ config.stream.inputs.show.port }}

{% for output in config.stream.outputs.merged -%}
# Output s{{ loop.index }}
s{{ loop.index }}_enable = {{ output.enabled | lower }}
s{{ loop.index }}_output = {{ output.kind | quote }}
s{{ loop.index }}_host = {{ output.host | quote }}
s{{ loop.index }}_port = {{ output.port }}
s{{ loop.index }}_mount = {{ output.mount | quote }}
s{{ loop.index }}_user = {{ output.source_user | quote }}
s{{ loop.index }}_pass = {{ output.source_password | quote }}

s{{ loop.index }}_channels = {{ output.audio.channels.value | quote }}
s{{ loop.index }}_type = {{ output.audio.format.value | quote }}
s{{ loop.index }}_bitrate = {{ output.audio.bitrate }}

s{{ loop.index }}_name = {{ (output.name or '') | quote }}
s{{ loop.index }}_description = {{ (output.description or '') | quote }}
s{{ loop.index }}_genre = {{ (output.genre or '') | quote }}
s{{ loop.index }}_url = {{ (output.website or '') | quote }}

{% endfor -%}
icecast_vorbis_metadata = {{ icecast_vorbis_metadata | lower }}

# System output
output_sound_device = {{ config.stream.outputs.system[0].enabled | lower }}
output_sound_device_type = {{ config.stream.outputs.system[0].kind.value | quote }}

# Settings
auth_path = {{ paths.auth_filepath | quote }}

{% if paths.log_filepath is defined -%}
set("log.file.path", "{{ paths.log_filepath }}")
{%- else -%}
set("log.file", false)
{%- endif %}

set("server.telnet", true)
set("server.telnet.bind_addr", {{ config.liquidsoap.server_listen_address | quote }})
set("server.telnet.port", {{ config.liquidsoap.server_listen_port }})

set("harbor.bind_addrs", ["{{ config.liquidsoap.harbor_listen_address | join('", "') }}"])

station_name = interactive.string("station_name", {{ info.station_name | quote }})

message_offline = interactive.string("message_offline", {{ preferences.message_offline | quote }})
message_format = interactive.string("message_format", {{ preferences.message_format.value | quote }})
input_fade_transition = interactive.float("input_fade_transition", {{ preferences.input_fade_transition }})

%include "{{ paths.lib_filepath }}"
